<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HOANGDZ MD5 ULTIMATE AI</title>
    <style>
        :root {
            --neon-green: #00ff00;
            --dark-bg: #020502;
            --glass: rgba(0, 40, 0, 0.2);
            --red: #ff0044;
        }

        body {
            margin: 0; font-family: 'Segoe UI', sans-serif;
            background: var(--dark-bg); color: var(--neon-green);
            overflow-x: hidden; touch-action: manipulation;
        }

        .app-container {
            width: 100%; max-width: 480px; margin: auto;
            padding: 10px; height: 100vh; overflow-y: auto;
            scrollbar-width: none;
        }

        /* CARD EFFECT */
        .card {
            background: linear-gradient(145deg, #0a1a0a, #000);
            border: 1px solid rgba(0, 255, 0, 0.2);
            border-radius: 25px; padding: 20px; margin-bottom: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.9);
            position: relative; overflow: hidden;
        }

        /* LED ANIMATION */
        .led-pulse-tai { animation: pulse-tai 0.6s infinite alternate; }
        .led-pulse-xiu { animation: pulse-xiu 0.6s infinite alternate; }

        @keyframes pulse-tai { 
            from { box-shadow: inset 0 0 10px var(--neon-green); border-color: var(--neon-green); }
            to { box-shadow: inset 0 0 30px var(--neon-green); border-color: #fff; }
        }
        @keyframes pulse-xiu { 
            from { box-shadow: inset 0 0 10px var(--red); border-color: var(--red); }
            to { box-shadow: inset 0 0 30px var(--red); border-color: #fff; }
        }

        h1 { text-align: center; letter-spacing: 5px; font-size: 20px; margin-bottom: 25px; text-shadow: 0 0 10px var(--neon-green); }

        /* INPUT AREA */
        .input-wrapper { position: relative; margin-bottom: 10px; }
        input {
            width: 100%; padding: 18px; background: #000;
            border: 2px solid #111; color: var(--neon-green);
            border-radius: 15px; font-size: 16px; text-align: center;
            outline: none; transition: 0.3s; box-sizing: border-box;
        }
        input:focus { border-color: var(--neon-green); box-shadow: 0 0 15px rgba(0,255,0,0.2); }

        .btn-predict {
            width: 100%; padding: 18px; background: var(--neon-green);
            color: #000; border: none; border-radius: 15px;
            font-size: 18px; font-weight: 900; cursor: pointer;
            text-transform: uppercase; margin-top: 5px;
        }

        /* RESULT AREA */
        .res-box { display: none; text-align: center; margin-top: 10px; }
        .res-label { font-size: 14px; color: #666; margin-bottom: 5px; }
        .res-main { font-size: 65px; font-weight: 900; margin: 10px 0; }
        
        .tai { color: var(--neon-green); text-shadow: 0 0 25px var(--neon-green); }.xiu { color: var(--red); text-shadow: 0 0 25px var(--red); }

        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        .stat-card { background: rgba(255,255,255,0.03); padding: 12px; border-radius: 12px; border: 1px solid #1a1a1a; }
        .stat-card span { display: block; font-size: 10px; color: #555; margin-bottom: 4px; }
        .stat-card b { font-size: 16px; color: #fff; }

        /* HISTORY */
        .hist-entry {
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px; border-bottom: 1px solid #111; font-size: 13px;
        }
        .copy-btn { background: #111; border: 1px solid #333; color: #888; padding: 4px 8px; border-radius: 5px; font-size: 10px; cursor: pointer; }

        .footer { text-align: center; padding: 25px; font-size: 11px; opacity: 0.4; letter-spacing: 1px; }
    </style>
</head>
<body>

<div class="app-container">
    <div class="card" id="mainCard">
        <h1>HOANGDZ MD5 AI V5</h1>
        
        <div class="input-wrapper">
            <input type="text" id="md5Input" placeholder="DÁN MÃ MD5 PHIÊN TẠI ĐÂY" maxlength="32">
        </div>
        <button class="btn-predict" onclick="deepAnalysis()">PHÂN TÍCH HỆ THỐNG</button>

        <div id="loader" style="display:none; text-align:center; margin-top:20px;">
            <div style="font-size: 12px;">ĐANG TRUY XUẤT VECTOR MD5...</div>
        </div>

        <div id="resBox" class="res-box">
            <div class="res-label">DỰ ĐOÁN KẾT QUẢ</div>
            <div id="mainRes" class="res-main">--</div>
            
            <div class="stats-grid">
                <div class="stat-card"><span>XÁC SUẤT</span><b id="pWin">0%</b></div>
                <div class="stat-card"><span>TỔNG ĐIỂM</span><b id="pPoint">0</b></div>
                <div class="stat-card"><span>ĐỘ TIN CẬY</span><b id="pTrust">0%</b></div>
                <div class="stat-card"><span>CẦU DỰ KIẾN</span><b id="pPattern">--</b></div>
            </div>
            
            <button class="copy-btn" style="margin-top:15px; width:100%; padding:10px;" onclick="copyResult()">SAO CHÉP DỰ ĐOÁN</button>
        </div>
    </div>

    <div class="card">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
            <span style="font-weight:bold; font-size:14px;">NHẬT KÝ PHÂN TÍCH</span>
            <span id="sessionCount" style="font-size:11px; color:#444;">0 Phiên</span>
        </div>
        <div id="historyLog"></div>
    </div>

    <div class="footer">
        POWERED BY DVIET 2026<br>HỆ THỐNG TỰ ĐỘNG XÓA KEY & NÂNG CẤP THUẬT TOÁN
    </div>
</div>

<audio id="bgMusic" loop>
    <source src="https://raw.githubusercontent.com/dev-dangviet/nucuoimatchuoc/0b8a8ba708f6ccf3f07207a1019f1862debd811a/nucuoimatchuoc.mp3.m4a" type="audio/mpeg">
</audio>

<script>let sessionCounter = 0;
    const music = document.getElementById("bgMusic");

    function speak(txt) {
        const u = new SpeechSynthesisUtterance(txt);
        u.lang = 'vi-VN';
        u.rate = 1.0;
        window.speechSynthesis.speak(u);
    }

    function deepAnalysis() {
        music.play().catch(()=>{});
        const input = document.getElementById("md5Input").value.trim();
        
        if(input.length !== 32) {
            alert("MÃ MD5 KHÔNG HỢP LỆ!");
            return;
        }

        document.getElementById("loader").style.display = "block";
        document.getElementById("resBox").style.display = "none";
        document.getElementById("mainCard").className = "card";

        setTimeout(() => {
            // --- THUẬT TOÁN VECTOR V5 ---
            let hexArray = [];
            for (let i = 0; i < input.length; i += 2) {
                hexArray.push(parseInt(input.substr(i, 2), 16));
            }

            // Tính toán trọng số dựa trên các điểm nút của chuỗi MD5
            const weight = hexArray.reduce((a, b, i) => a + (b * (i % 3 === 0 ? 1.5 : 1)), 0);
            const score = (weight % 15) + 3;
            const isTai = score >= 11;
            const prob = 75 + (weight % 23);
            
            const patterns = ["Cầu Bệt", "Cầu 1-1", "Cầu Nghiêng", "Cầu Đảo 2-1"];
            const pattern = patterns[weight % patterns.length];

            // Cập nhật UI
            document.getElementById("loader").style.display = "none";
            document.getElementById("resBox").style.display = "block";
            
            const main = document.getElementById("mainRes");
            main.innerText = isTai ? "TÀI" : "XỈU";
            main.className = "res-main " + (isTai ? "tai" : "xiu");
            
            document.getElementById("pWin").innerText = prob + "%";
            document.getElementById("pPoint").innerText = Math.floor(score);
            document.getElementById("pTrust").innerText = prob + "%";
            document.getElementById("pPattern").innerText = pattern;

            // Hiệu ứng & Voice
            document.getElementById("mainCard").classList.add(isTai ? "led-pulse-tai" : "led-pulse-xiu");
            speak(isTai ? "Dự đoán Tài" : "Dự đoán Xỉu");

            // Lưu lịch sử
            sessionCounter++;
            document.getElementById("sessionCount").innerText = sessionCounter + " Phiên";
            const log = document.getElementById("historyLog");
            const div = document.createElement("div");
            div.className = "hist-entry";
            div.innerHTML = `
                <span>#${input.substring(0,4)}...</span>
                <b class="${isTai?'tai':'xiu'}">${isTai?'TÀI':'XỈU'}</b>
                <span style="color:#444">${prob}%</span>
            `;
            log.insertBefore(div, log.firstChild);
        }, 1000);
    }

    function copyResult() {const res = document.getElementById("mainRes").innerText;
        const prob = document.getElementById("pWin").innerText;
        const text = `Dự đoán MD5: ${res} - Tỷ lệ thắng: ${prob} (By HoangDZ AI)`;
        navigator.clipboard.writeText(text);
        alert("ĐÃ COPY KẾT QUẢ!");
    }
</script>

</body>
</html>
